<html>

<head>
    <title>Study Buddy Reset Password</title>
    <% include ../partials/header.ejs %>
        <script src="/static/AppUtilities.js"></script>
</head>

<body>

    <% include ../partials/navbar.ejs %>

        <div id="main_div">

            <form class="w3-padding-large w3-center" method="post">
            
                <label for="email"> Type your new password: </label>
                <input class="w3-input" type="password" name="password_1" id="password_1" minlength="8" required/>
            
                <br />
                <br />
            
                <label for="username"> Re-type your new password: </label>
                <input class="w3-input" type="password" name="password_2" id="password_2" minlength="8" required/>
            
                <br />
                <br />
            
                <button class="w3-button w3-center w3-green" type="submit" 
                onclick="resetPassword()">Reset Password</button>
            
            </form>

        </div>


        <footer class="w3-container w3-container w3-black">
            <% include ../partials/footer.ejs %>
        </footer>

        <script type="text/javascript">
            function resetPassword() {
                var password_1 = document.getElementById("password_1").value;
                var password_2 = document.getElementById("password_2").value;

                if (password_1 !== password_2) {
                    alert("The submitted passwords do not match!");
                } else {
                    sendHTTPRequest(
                        "POST", location.href, { password: password_1 }, (response) => {
                            alert(results.message);
                            if (response.success) {
                                window.location = "/";
                            }
                        });
                }
            }
        </script>

</body>

</html>