<!--
    Contains information that is helpful to new Study Buddy users. Explains the 
    features and how to make the most out of Study Buddy
-->

<!DOCTYPE html>

<html>

    <head>
        <title>Study Buddy Readme</title>
        <link rel="stylesheet" href="/stylesheets/themes/atom-one-light.css">
        <script src="/static/highlight.pack.js"></script>
        <script src="/static/showdown.min.js"></script>
        <script src="/static/AppUtilities.js"></script>
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
              tex2jax: {
                ignoreClass: "escape_latex"
              }
            });
          </script>
          <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>

        <% include ../partials/header.ejs %>

        <style>

            #study_buddy_details {
                margin: 1% 15% 1% 15%;
                padding: 1% 5% 1% 5%;
            }

            .details_header {
                border-bottom: 1px #e1e4e8 solid;
            }

            .details_section {
                margin: 2% 0%;
                padding: 3% 0%;
            }

            #card_container {
                display: none;
            }

            sup a {
                font: 200;
            }

        </style>

    </head>

    <body onload="markupPage()">

        <% include ../partials/navbar.ejs %>

        <div id="main_div">

            <div id="study_buddy_details">

                <div class="details_section">

                        <h3 class="details_header" id="help_contents">
                            Contents
                        </h3>
    
                        <ol>
                            <li><a href="#formatting">Formatting Cards</a></li>
                        </ol>
    
                    </div>

                <div class="details_section">

                    <h3 class="details_header" id="formatting">
                        Formatting Cards
                        <sup><sup>
                            <a href="#help_contents">back to the top</a>
                        </sup></sup>
                    </h3>

                    <p>
                        Study Buddy flashcards support Markdown, LaTeX and syntax 
                        highlighting.

                        <table class="w3-table-all">
                            <tr>
                                <th>You type:</th>
                                <th>After saving the card, you'll see:</th>
                            </tr>

                            <tr>
                                <td class="escape_latex">\(y = \frac{x^2}{\sqrt{2}} \)</td>
                                <td>\(y = \frac{x^2}{\sqrt{2}}\)</td>
                            </tr>

                            <tr>
                                <td>* Asterisks denote bullets<br></td>
                                <td class="convert_to_html">* Asterisks denote bullets</td>
                            </tr>
                            
                            <tr>
                                <td>
                                    <pre>
                                        <code class="markdown">```python<br>def hello_world():<br>  print("Hello, World!")<br>```
                                        </code>
                                    </pre>
                                    
                                </td>
                                <td>
                                    <pre>
                                        <code>def hello_world():<br>    print("Hello, World!")
                                        </code>
                                    </pre>
                                </td>
                            </tr>

                        </table>

                    </p>

                </div>

            </div>

        </div>


        <% include ../partials/footer.ejs %>

    </body>

    <script>

        var converter = new showdown.Converter({
            headerLevelStart: 4, literalMidWordUnderscores: true,
            literalMidWordAsterisks: true, simpleLineBreaks: true,
            emoji: true, backslashEscapesHTMLTags: true, tables: true,
            parseImgDimensions: true, simplifiedAutoLink: true,
            strikethrough: true, tasklists: true
        });

        function markupPage() {

            let domElements = document.getElementsByClassName("convert_to_html");
            for (let i = 0; i < domElements.length; i++) {
                domElements[i].innerHTML = converter.makeHtml(
                    String.raw`${domElements[i].textContent.replace(/\\/g, "\\\\")}`
                );
            }

            let codeElements = document.querySelectorAll('pre code');
            for (let i = 0; i < codeElements.length; i++) {
                hljs.highlightBlock(codeElements[i]);
            }

        }

        

        

    </script>

</html>