<script type="text/javascript" src="/dist/AppUtilities.bundle.min.js"></script>

<div class="topnav">
    <div id="topnav-banner">
        <p>
            Starting <time datetime="2024-05-14">May 14th</time>, <%= APP_NAME %>
            will be available only at
            <a href="https://cards.curiosities.dev/">cards.curiosities.dev</a>.
            <a href="/wiki/#migration">Learn more</a>.
        </p>
    </div>

    <ul id="topnavitems">
        <li class="left">
            <a href="/" class="link_button"><strong>
                    <%= APP_NAME %>
                </strong></a>
        </li>

        <li class="left">
            <a href="/home" class="link_button">Home</a>
        </li>

        <li class="left">
            <a href="/browse" class="link_button">Browse/Search</a>
        </li>

        <li class="left">
            <a href="/wiki" class="link_button">Wiki</a>
        </li>

        <% if (LOGGED_IN) { %>

            <li class="right">
                <a href="#" class="link_button" onClick="logOut();">Log Out</a>
            </li>

            <li class="right">
                <a id="account_button" href="/account" class="link_button">
                    Your Account
                </a>
            </li>

        <% } %>

    </ul>

</div>

<script type="text/javascript">
    /**
     * @description Log out the currently logged in user.
     */
    function logOut() {
        AppUtilities.sendHTTPRequest("POST", "/logout", {})
            .then((response) => {
                localStorage.clear();
                window.location = "/";
            })
            .catch((err) => { console.error(err); });
    }

</script>
