<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Wiki: Editing Cards | Cards by c13u Docs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Wiki: Editing Cards</h1>

    <section>

<header>
    

    <!-- Removed the <h2>Editing Cards</h2> because it's redundant. -->
    
</header>

<article>
    <h2>Markdown</h2>
<p>Since we're targeting users that store somewhat detailed flashcards, we felt that Markdown (in addition to LaTEX and syntax highlighting) will prove useful. Manually converting markdown to HTML is a project by itself. Since it's not the main purpose of Flashcards by c13u, we were happy to import <a href="https://github.com/showdownjs/showdown">Showdown</a>. The library looks mature and the documentation is sound.</p>
<h2>Spoilers</h2>
<p>Being able to cover some of the content is crucial to any flashcards application. We added support for one spoiler per card. The format is:</p>
<pre class="prettyprint source lang-markdown"><code>What's the general approach for solving problems on probability?

[spoiler]

* Find the sample space \(S\). Draw a tree if \(S\) is not too large.

* From the leaves, define the events of interest. Don't be fooled by their frequency!

* Determine the probabilities along the edges using the assumptions made in the problem. The probability of an outcome is the product of all edge probabilities along the path from the root to the outcome. This is mechanical.

* Compute event probabilities by adding up probabilities for all favorable outcomes.

</code></pre>
<p>Any content found under the first <code>[spoiler]</code> is assumed to be part of the spoiler.</p>
<h2>Tabbing Inside Card Description</h2>
<p>We chose to insert <code>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</code> if the user pressed the tab key. The downside to this is that deleting a 'tab' requires 4 backspaces. We tried inserting a tab character instead but for it to render, we needed to add <code>white-space: pre-wrap;</code> as a style attribute. This however inserts to much whitespace between separate lines of texts. Since flash cards are more frequently read than written, we prioritized having the flash cards as compact as possible in order to avoid the need to scroll down when reading them.</p>
<h2>LaTEX</h2>
<p><a href="https://www.mathjax.org/">MathJAX</a> renders LaTEX on the app. At first we had problems getting LaTEX to render properly, but we realized that by default, MathJAX expects LaTEX to be already on the DOM. We dug through its documentation and found out that MathJAX allows manual reloads. We therefore added a function that requests MathJAX to re-render the contents of the card template every time the user loads a card.</p>
<h2>LaTEX Delimiters</h2>
<p>Previously, users had to escape the LaTEX delimiter themselves and also escape underscores within inline LaTEX. This meant lines like <code>\(p_i = 2\)</code> had to be written as <code>\\(p\_i = 2\\)</code>. <s>With some regular expressions, we was able to support the former approach. We traded computational efficiency <em>(more code to automatically escape backslashes and replace automatically inserted <code>&lt;em&gt;, &lt;/em&gt;</code> tags)</em> for convenience <em>(users entering normal LaTEX)</em>. We choose to make this correction on the client side since we can't afford that much storage capacity on the server side.</s></p>
<p>We configured <code>showdown.converter</code> to escape underscores and asterisks when converting markdown to HTML. Although we had activated these options before, <code>showdown.converter</code> wasn't applying them. The bug was fixed on Github. We downloaded the version of <code>showdown.min.js</code> available during commit <code>039dd66256e771716c20a807a2941974ac7c5873</code>. Since that version works fine, we use my downloaded copy instead of using the version hosted on the CDN since that might change over time. Later versions of the file insert extra whitespace in my code blocks, so we prefer maintaining the version from the above commit.</p>
<h2>Card Urgency</h2>
<p>We changed the urgency input from a number input type to a range input type. To set an urgency, using the range input type is faster since the user doesn't really care about the actual value, but its percentage, e.g. <em>card X is half as important as the most important cards in my deck</em>. Furthermore, using a range requires one click, while using a number type requires a click and a type.</p>
<h2>Undoing a Card Deletion</h2>
<p>We learned that we should <a href="http://alistapart.com/article/neveruseawarning">never use a warning when we meant undo</a>. Seems like a good design decision. Users who really want to delete a card might be unsatisifed, but I bet they're in the minority(?). Furthermore, they can permanently delete a card from the accounts page. Amazing how much fiddling goes in the backend, just to allow a user to delete and then save themselves 3 seconds later by hitting <code>Undo</code>.</p>
<h2>Syntax Highlighting</h2>
<p>We found the <a href="https://highlightjs.org/">highlight.js</a> library useful for syntax highlighting. It even allows us to specify what languages we want supported. We downloaded a package from them instead of using a CDN. Although we refrain from adding more dependencies, writing our own syntax highlighter would have been unwise.</p>
<h2>Tag Auto-Completion</h2>
<p>The app should help the user use the fewest tags possible while still being descriptive. We address this problem in the following ways:</p>
<ul>
<li>Providing autocompletion for tags based on the prefix.</li>
<li>Suggesting related tags based on previous usage patterns.</li>
</ul>
</article>

</section>

</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Wiki</h3><ul><li><a href="tutorial-main._readme.html">The Main Page</a></li><li><a href="tutorial-meta._readme.html">Miscellaneous</a></li><li><a href="tutorial-user._readme.html">The User Account</a></li></ul><h3>Modules</h3><ul><li><a href="module-models_CardsMongoDB.html">models/CardsMongoDB</a></li><li><a href="module-models_DailyTasks.html">models/DailyTasks</a></li><li><a href="module-models_EmailClient.html">models/EmailClient</a></li><li><a href="module-models_LogInUtilities.html">models/LogInUtilities</a></li><li><a href="module-models_MetadataMongoDB.html">models/MetadataMongoDB</a></li><li><a href="module-models_Miscellaneous.html">models/Miscellaneous</a></li><li><a href="module-models_mongoose_models_CardSchema.html">models/mongoose_models/CardSchema</a></li><li><a href="module-models_mongoose_models_MetadataCardSchema.html">models/mongoose_models/MetadataCardSchema</a></li><li><a href="module-models_mongoose_models_Token.html">models/mongoose_models/Token</a></li><li><a href="module-models_mongoose_models_UserSchema.html">models/mongoose_models/UserSchema</a></li><li><a href="module-models_MongooseClient.html">models/MongooseClient</a></li><li><a href="module-models_SanitizationAndValidation.html">models/SanitizationAndValidation</a></li><li><a href="module-public_src_AppUtilities.html">public/src/AppUtilities</a></li><li><a href="module-public_src_CardTemplateUtilities.html">public/src/CardTemplateUtilities</a></li><li><a href="module-public_src_TagsBarUtilities.html">public/src/TagsBarUtilities</a></li></ul><h3>Classes</h3><ul><li><a href="AutoComplete.html">AutoComplete</a></li><li><a href="CardsManager.html">CardsManager</a></li><li><a href="Graph.html">Graph</a></li><li><a href="max_PQ.html">max_PQ</a></li><li><a href="TernarySearchTrie.html">TernarySearchTrie</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Sat Sep 21 2019 11:26:08 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>