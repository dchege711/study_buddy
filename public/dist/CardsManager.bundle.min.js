var CardsManager=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n){n.sendForm=function(e,t){return new Promise(function(r,o){let i=document.forms[e];if(i.checkValidity()){let e=i.elements,u={};for(let n=0;n<e.length;n++)"checkbox"==e[n].type?u[e[n].name]=e[n].checked:u[e[n].name]=e[n].value;delete u[""],n.sendHTTPRequest("POST",t,u).then(e=>{r(e)}).catch(e=>{o(e)})}else i.reportValidity(),o("Please fill in the form with valid inputs.")})},n.sendHTTPRequest=function(e,n,t){return new Promise(function(r,o){let i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState&&200==this.status)try{let e=JSON.parse(this.responseText);r(e)}catch(e){o(e)}},i.open(e,n,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send(JSON.stringify(t))})},n.processParams=function(){var e=new URL(document.location).searchParams;e.has("msg")&&alert(e.get("msg"))},n.getAccountInfo=function(){let e=localStorage.getItem("session_info");return null===e?e:JSON.parse(e)},n.updateAccountInfo=function(e){let t=n.getAccountInfo();null===t&&(t={}),Object.keys(e).forEach(n=>{t[n]=e[n]}),localStorage.setItem("session_info",JSON.stringify(t))}},,function(e,n,t){"use strict";var r=t(3),o=t(0).sendHTTPRequest;e.exports=function(e,n){var t={},i=r(),u=r();function c(e,n,t=!0){var r=e.del_max();return r[1]=-1*r[1],n.insert(r),r}function l(e,t="/read-card"){return new Promise(function(r,i){let u=JSON.parse(localStorage.getItem(e));u&&r(u),o("POST",t,{userIDInApp:n,_id:e}).then(n=>{localStorage.setItem(e,JSON.stringify(n.message[0])),r(n.message[0])}).catch(e=>{i(e)})})}return t.empty_card={title:"",description:"",tags:"",createdById:null,urgency:0,metadataIndex:null},t.initializeFromTags=function(n){return new Promise(function(t,o){null===n&&(n=Object.keys(e)),u=r(),i=r();var c=new Set([]);n.forEach(function(n){for(var t in e[n])!1===c.has(t)&&(i.insert([t,e[n][t].urgency]),c.add(t))}),t()})},t.initializeFromMinicards=function(e){return new Promise(function(n,t){u=r(),i=r(),e.forEach(e=>{i.insert([e._id,e.urgency])}),n()})},t.initializeFromTrash=function(e,n){return new Promise(function(n,t){u=r(),i=r();let o=Object.keys(e);for(let n=0;n<o.length;n++)i.insert([o[n],e[o[n]]]);n()})},t.next=function(){return new Promise(function(e,n){i.is_empty()?e(null):l(c(i,u)[0]).then(n=>{e(n)}).catch(e=>{n(e)})})},t.numNext=function(){return i.size()},t.numPrev=function(){return u.size()},t.previous=function(){return new Promise(function(e,n){u.is_empty()?e(null):l(c(u,i)[0]).then(n=>{e(n)}).catch(e=>{n(e)})})},t.removeCard=function(e){let n=u.peek();return n&&n[0]==e?u.del_max()[0]:(n=i.peek())&&n[0]==e?i.del_max()[0]:null},t.insertCard=function(e,n){u.insert([e,n])},t.update_card=function(e){localStorage.removeItem(e._id),localStorage.setItem(e._id,JSON.stringify(e)),this.removeCard(e._id),u.insert([e._id,-1*e.urgency])},t.saveCard=function(e,n){return new Promise(function(r,i){o("POST",n,e).then(e=>{e.success?(t.update_card(e.message),r(e.message)):i(e.message)}).catch(e=>{i(e)})})},t}},function(e,n,t){(function(e){if(t.c[t.s]===e){var n=maxPQ();n.initialize([["one",1],["five",5],["two",2],["three",3],["zero",0],["four",4]]),console.log("Expect to see 6 items in descending order");for(let e of n)console.log(e);console.log("Size should be 6: "+n.size()),n.insert(["ten",10]),n.insert(["twenty",20]),n.insert(["-ve one",-1]),console.log("Size should be 9: "+n.size()),console.log("Expect to see 9 items in descending order");for(let e of n)console.log(e)}e.exports=function(){var e={},n=[],t=0,r={},o=0;function i(e){for(var r=Array(e).fill([null,Number.NEGATIVE_INFINITY]),o=0;o<=t;o++)r[o]=n[o];n=r}function u(e){for(;2*e<=t;){var n=2*e;if(n<t&&c(n,n+1)&&n++,!c(e,n))break;l(e,n),e=n}}function c(e,t){return n[e][1]!==n[t][1]?n[e][1]<n[t][1]:r[n[e][0]]<r[n[t][0]]}function l(e,t){var r=n[e];n[e]=n[t],n[t]=r}return e.initialize=function(e){t=e.length,n=Array(t+1).fill([null,Number.NEGATIVE_INFINITY]);for(var i=0;i<t;i++)r[e[i][0]]=o,n[i+1]=e[i],o+=1;for(var c=Math.floor(t/2);c>=1;c--)u(c)},e.is_empty=function(){return 0===t},e.size=function(){return t},e.contains_key=function(e){return r.hasOwnProperty(e)},e.insert=function(e){t===n.length-1&&i(2*n.length),t+=1,!1===r.hasOwnProperty(e[0])&&(r[e[0]]=o,o+=1),n[t]=e,function(e){for(;e>1&&c(Math.floor(e/2),e);)l(e,Math.floor(e/2)),e=Math.floor(e/2)}(t)},e.del_max=function(){if(this.is_empty())return[null,Number.NEGATIVE_INFINITY];var e=n[1];return l(1,t),t-=1,u(1),n[t+1]=[null,Number.NEGATIVE_INFINITY],t>0&&t===Math.floor((n.length-1)/4)&&i(Math.floor(n.length/2)),delete r[e[0]],e},e.peek=function(){return 0===t?null:n[1]},e[Symbol.iterator]=function*(){let e=[];for(var t=0;t<n.length;t++)n[t][0]&&e.push(n[t]);for(;!this.isEmpty();)yield this.delMax();this.initialize(e)},e}}).call(this,t(4)(e))},function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}]);