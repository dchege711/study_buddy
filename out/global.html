<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="cardSchema"><span class="type-signature"></span>cardSchema<span class="type-signature"></span></h4>




<div class="description">
    Tips from MDN:

Each model maps to a collection of documents in the MongoDB database. 
The documents will contain the fields/schema types defined in the model 
Schema.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_models_CardSchema.js.html">mongoose_models/CardSchema.js</a>, <a href="mongoose_models_CardSchema.js.html#line16">line 16</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="mongoose"><span class="type-signature"></span>mongoose<span class="type-signature"></span></h4>




<div class="description">
    Prepare a model for representing cards in the database.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_models_CardSchema.js.html">mongoose_models/CardSchema.js</a>, <a href="mongoose_models_CardSchema.js.html#line5">line 5</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="mongoose"><span class="type-signature"></span>mongoose<span class="type-signature"></span></h4>




<div class="description">
    Set up the connection that will be used across the app. 
There's a nice tutorial at: 
https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/mongoose
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MongooseClient.js.html">MongooseClient.js</a>, <a href="MongooseClient.js.html#line7">line 7</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="mongoose"><span class="type-signature"></span>mongoose<span class="type-signature"></span></h4>




<div class="description">
    Prepare a model for representing users in the database.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_models_UserSchema.js.html">mongoose_models/UserSchema.js</a>, <a href="mongoose_models_UserSchema.js.html#line6">line 6</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="mongoose"><span class="type-signature"></span>mongoose<span class="type-signature"></span></h4>




<div class="description">
    Prepare a model for representing tokens.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_models_Token.js.html">mongoose_models/Token.js</a>, <a href="mongoose_models_Token.js.html#line6">line 6</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="mongoose"><span class="type-signature"></span>mongoose<span class="type-signature"></span></h4>




<div class="description">
    Prepare a model for representing metadata in the database.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_models_MetadataCardSchema.js.html">mongoose_models/MetadataCardSchema.js</a>, <a href="mongoose_models_MetadataCardSchema.js.html#line5">line 5</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="addPublicUser"><span class="type-signature"></span>addPublicUser<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Add a dummy user in order to make managing the browse page for 
public cards easier
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Miscellaneous.js.html">Miscellaneous.js</a>, <a href="Miscellaneous.js.html#line13">line 13</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="authenticateByToken"><span class="type-signature"></span>authenticateByToken<span class="signature">(tokenID)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Provide an authentication endpoint where a session token has 
been provided. Useful for maintaining persistent logins.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tokenID</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The token ID that can be used for logging in.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line416">line 416</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON doc w/ `success`, `status`
 and `message` as keys
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="authenticateUser"><span class="type-signature"></span>authenticateUser<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Authenticate a user that is trying to log in.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Expected keys: `username_or_email`, `password`</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line356">line 356</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object keyed by `success`, `status` 
and `message`. The message field contains the following keys: `token_id`, 
`userIDInApp`, `username`, `email`, `cardsAreByDefaultPrivate` and 
`userRegistrationDate`.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="close"><span class="type-signature"></span>close<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Clean up the resources before exiting this module.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EmailClient.js.html">EmailClient.js</a>, <a href="EmailClient.js.html#line38">line 38</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="close"><span class="type-signature"></span>close<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Clean up resources before exiting the script.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line20">line 20</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="closeMongooseConnection"><span class="type-signature"></span>closeMongooseConnection<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Close the MongoDB connection before closing the application.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">The first parameter will be set in case of any 
error</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MongooseClient.js.html">MongooseClient.js</a>, <a href="MongooseClient.js.html#line40">line 40</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="collectSearchResults"><span class="type-signature"></span>collectSearchResults<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Search the database for cards matching the specified schema. 
Return the results to the callback function that was passed in.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line216">line 216</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object. If `success` is set, then 
the `message` attribute will be an array of matching cards.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="create"><span class="type-signature"></span>create<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Create & save a new metadata document for a user
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Must contain `userIDInApp` and `metadataIndex` as keys</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MetadataMongoDB.js.html">MetadataMongoDB.js</a>, <a href="MetadataMongoDB.js.html#line16">line 16</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object with `success`, `status` and 
`message` as keys.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="create"><span class="type-signature"></span>create<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Create a new card and add it to the user's current cards.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Expected keys: `title`, `description`, `tags`, 
`createdById`, `urgency`, `isPublic` and `parent`.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line19">line 19</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    takes a JSON object with `success`, `status` and `message` 
as its keys. If successful, the message will contain the saved card.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Remove this card from the database.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">The card to be removed</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line135">line 135</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON keyed by `success`, `status` and 
`message` as keys.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="deleteAccount"><span class="type-signature"></span>deleteAccount<span class="signature">(userIDInApp)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Permanently delete a user's account and all related cards.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userIDInApp</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">The ID of the account that will be deleted.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line616">line 616</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object that has the keys `success` 
and `message`.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="deleteAllAccounts"><span class="type-signature"></span>deleteAllAccounts<span class="signature">(usernamesToSpare)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Delete all existing users from the database. This function only 
works when `config.NODE_ENV == 'development'`
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>usernamesToSpare</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">A list of usernames whose accounts shouldn't 
be deleted. By default, the global public user is not deleted.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line649">line 649</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with the number of accounts that were deleted.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="deleteAllMetadata"><span class="type-signature"></span>deleteAllMetadata<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Delete all the metadata associated with the user.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Contains `userIDInApp` as a key</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MetadataMongoDB.js.html">MetadataMongoDB.js</a>, <a href="MetadataMongoDB.js.html#line209">line 209</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object keyed by `success`, `status` 
and `message`
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="deleteCardFromTrash"><span class="type-signature"></span>deleteCardFromTrash<span class="signature">(restoreCardArgs)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Permanently delete a card from the user's trash.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>restoreCardArgs</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Expected keys: `cardID`, `createdById`</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MetadataMongoDB.js.html">MetadataMongoDB.js</a>, <a href="MetadataMongoDB.js.html#line338">line 338</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON keyed by `success`, `status` and  
`message`
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="deleteSessionToken"><span class="type-signature"></span>deleteSessionToken<span class="signature">(sessionTokenID)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Delete a token from the database. Fail silently if no token
has the specified ID.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sessionTokenID</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The ID of the token to be removed</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line438">line 438</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object with keys `success`, `status`
and `message` as keys.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="duplicateCard"><span class="type-signature"></span>duplicateCard<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Create a copy of the referenced card and add it to the user's 
collection
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">The `cardID` and `userIDInApp` and 
`cardsAreByDefaultPrivate` attributes should be set appropriately.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line307">line 307</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    takes a JSON object with `success`, `status` and `message` 
as its keys. If successful, the message will contain the saved card. This 
response is the same as that of `CardsMongoDB.create(payload)`.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="flagCard"><span class="type-signature"></span>flagCard<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Increase the counter of the specified file. This allows 
moderators to deal with the most flagged cards first.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">The `cardID` must be set. `markedForReview` and 
`markedAsDuplicate` are optional. If set, they should be booleans.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line352">line 352</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    takes a JSON object with `success`, `status` and `message` 
as its keys. If successful, the message will contain the saved card.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getAccountDetails"><span class="type-signature"></span>getAccountDetails<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Fetch the User object as represented in the database.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line596">line 596</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON keyed by `status`, `message` and 
`success`. If `success` is set, the `message` property will contain the `user`
object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getHash"><span class="type-signature">(async) </span>getHash<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line46">line 46</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with the hash computed from the provided 
`password` and `salt` parameters.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getIdInAppAndValidationURI"><span class="type-signature">(async) </span>getIdInAppAndValidationURI<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Generate a User ID and a validation string, and make sure they 
are unique in the database. This method does not save the generated user ID 
or validation URL.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line77">line 77</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    the first param is a user ID and the second is a 
validation string.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getRandomString"><span class="type-signature"></span>getRandomString<span class="signature">(stringLength, alphabet)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Generate a random string from the specified alphabet.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stringLength</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">The length of the desired string.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>alphabet</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The characters that can be included in the string. 
If not specified, defaults to the alphanumeric characters.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line57">line 57</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="getSaltAndHash"><span class="type-signature"></span>getSaltAndHash<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Generate a salt and a hash for the provided password.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line32">line 32</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    the resolved value is an array where the first element is 
the salt and the second element is the hash.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getTagGroupings"><span class="type-signature"></span>getTagGroupings<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Fetch the tags contained in the associated users cards.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Must contain `userIDInApp` as one of the keys.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line381">line 381</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    takes a JSON object with `success`, `status` and `message` 
as its keys. If successful, the message will contain an array of arrays. Each 
inner array will have tags that were found on a same card.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="insertDescriptionHTML"><span class="type-signature"></span>insertDescriptionHTML<span class="signature">(connection)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    The `descriptionHTML` field was introduced later on in the 
project. To avoid conditionals for documents created before the change, this 
method adds the `descriptionHTML` field to all cards in the database.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>connection</code></td>
            

            <td class="type">
            
                
<span class="param-type">MongooseClient</span>


            
            </td>

            

            

            <td class="description last">An instance of the mongoose connection 
object. Needed so that it can be closed at the end of the script.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line434">line 434</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="provideSessionToken"><span class="type-signature"></span>provideSessionToken<span class="signature">(user)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Generate a unique session token.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">The user to be associated with this token. Expected keys: 
`userIDInApp`, `username`, `email`, `cardsAreByDefaultPrivate` and 
`createdAt`</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line113">line 113</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object keyed by `success`, `status` 
and `message`. The message field contains the following keys: `token_id`, 
`userIDInApp`, `username`, `email`, `cardsAreByDefaultPrivate` and 
`userRegistrationDate`.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="publicSearch"><span class="type-signature"></span>publicSearch<span class="signature">(`payload`)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Find cards that satisfy the given criteria and are publicly 
viewable.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>`payload`</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Expected keys are `card_id`, `user_id`, `query_string`. 
The `user_id` in this case refers to the creator of the cards, 
not the ID of the user/guest that makes the request.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line242">line 242</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object. If `success` is set, then 
the `message` attribute will be an array of matching cards.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="read"><span class="type-signature"></span>read<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Read a card(s) from the database.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Must contain `userIDInApp` as one of the keys.
If `_id` is not one of the keys, fetch all the user's cards.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line52">line 52</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON doc with `success`, `status` and  
`message` as keys. If successful, `message` will be an array of all matching 
cards.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="read"><span class="type-signature"></span>read<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Read all the metadata associated with a user's cards.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Must contain `userIDInApp` as a key</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MetadataMongoDB.js.html">MetadataMongoDB.js</a>, <a href="MetadataMongoDB.js.html#line56">line 56</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    If successful, the `message` attribute is an array of 
JSON `Metadata` objects
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="readPublicCard"><span class="type-signature"></span>readPublicCard<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Read a card that has been set to 'public'
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">The `card_id` property should be set to a valid ID</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line277">line 277</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object. If `success` is set, then 
the `message` attribute will contain a single-element array containing the 
matching card if any.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="registerUserAndPassword"><span class="type-signature"></span>registerUserAndPassword<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Register a new user using the provided password, username and email.
* Respond with status `200` if the username is taken.
* If the email address is already taken, send an email to that address 
notifying them of the signup.
* If the input is invalid, e.g. a non alphanumeric username, raise an error 
since it should have been caught on the client side.
* Otherwise, register the user and send them a validation link.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Expected keys: `username`, `password`, `email`</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line263">line 263</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object containing the keys `success`, 
`status` and `message`.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="removeCardFromMetadataTrash"><span class="type-signature"></span>removeCardFromMetadataTrash<span class="signature">(cardIdentifier)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Remove the card from the trash records of the metadata object. 
This method does not save the modified metadata into the database!
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cardIdentifier</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">JSON object that contains the keys 
`createdById` and `_id`.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MetadataMongoDB.js.html">MetadataMongoDB.js</a>, <a href="MetadataMongoDB.js.html#line375">line 375</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with the modified metadata document. It is up to 
the callee to persist the saved metadata in the database.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="resetPassword"><span class="type-signature"></span>resetPassword<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">payload</span>


            
            </td>

            

            

            <td class="description last">Expected keys: `reset_password_uri`, `password`,
`reset_info`.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line541">line 541</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object that has the keys `success` 
and `message`.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="restoreCardFromTrash"><span class="type-signature"></span>restoreCardFromTrash<span class="signature">(restoreCardArgs)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Restore a card from the trash, back into the user's list of
current cards.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>restoreCardArgs</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Expected keys: `cardID`, `createdById`</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MetadataMongoDB.js.html">MetadataMongoDB.js</a>, <a href="MetadataMongoDB.js.html#line296">line 296</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON keyed by `success`, `status` and  
`message`
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="sanitizeCard"><span class="type-signature"></span>sanitizeCard<span class="signature">(card)</span><span class="type-signature"> &rarr; {JSON}</span></h4>
    

    



<div class="description">
    Sanitize the card to prevent malicious input, e.g XSS attack
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>card</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">A card object that is about to be saved into the 
database.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="SanitizationAndValidation.js.html">SanitizationAndValidation.js</a>, <a href="SanitizationAndValidation.js.html#line25">line 25</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    sanitized card
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">JSON</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="sanitizeQuery"><span class="type-signature"></span>sanitizeQuery<span class="signature">(query)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    Prevent a NoSQL Injection in the search parameters. This is 
achieved by deleting all query values that begin with `$`.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">A mapping of query values, e.g. {username: "dchege711"}</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="SanitizationAndValidation.js.html">SanitizationAndValidation.js</a>, <a href="SanitizationAndValidation.js.html#line76">line 76</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A sanitized version of the input.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="search"><span class="type-signature"></span>search<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Search for cards with associated key words
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Expected keys: `key_words`, `createdById`</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line158">line 158</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON with `success`, `status` and `message` 
as keys. If successful `message` will contain abbreviated cards that only 
the `id`, `urgency` and `title` fields.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="sendAccountValidationLink"><span class="type-signature"></span>sendAccountValidationLink<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Expected keys: `email`</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line184">line 184</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object keyed by `success`, `status` 
and `message`
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="sendAccountValidationURLToEmail"><span class="type-signature"></span>sendAccountValidationURLToEmail<span class="signature">(userDetails, resolves)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Send a validation URL to the email address associated with the
account. The validation URL must be present in `userDetails`. This method 
does not generate new validation URLs.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userDetails</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Expected keys: `email`, `account_validation_uri`</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>resolves</code></td>
            

            <td class="type">
            
                
<span class="param-type">Promise</span>


            
            </td>

            

            

            <td class="description last">with a JSON object having the keys `success`, 
`message`, `status`.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line147">line 147</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="sendCardToTrash"><span class="type-signature"></span>sendCardToTrash<span class="signature">(payload)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Must contain `cardID` that has the id of the card
to be placed into trash, and `userIDInApp`, the ID of the user who owns
the card.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MetadataMongoDB.js.html">MetadataMongoDB.js</a>, <a href="MetadataMongoDB.js.html#line228">line 228</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON keyed by `success`, `status` and  
`message`
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="sendEmail"><span class="type-signature"></span>sendEmail<span class="signature">(mailOptions)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>mailOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Values are comma separated strings whose keys include: 
`to`, `cc`, `bcc`, `subject`, `text`, `html`, except for `attachment`
which is an object with the keys `filename`, `content`, `path`, `href`,
`contentType`, `contentDisposition`, `cid`, `encoding`, `headers`, `raw`.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EmailClient.js.html">EmailClient.js</a>, <a href="EmailClient.js.html#line24">line 24</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    takes a JSON with `success` and `message` as the keys
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="sendResetLink"><span class="type-signature"></span>sendResetLink<span class="signature">(userIdentifier)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userIdentifier</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Expected key: `email_address`</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line454">line 454</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object with keys `success`, `status`
and `message` as keys.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="splitTags"><span class="type-signature"></span>splitTags<span class="signature">(s)</span><span class="type-signature"> &rarr; {String}</span></h4>
    

    



<div class="description">
    Append a copy of the hyphenated/underscored words in the incoming 
string without the hyphens/underscores. Useful for pre-processing search 
queries. A person searching for `dynamic_programming` should be interested in 
`dynamic programming` as well.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>s</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">a string that may contain hyphenated/underscored words, e.g 
`arrays dynamic_programming iterative-algorithms`.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line199">line 199</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    a string with extra space delimited words, e.g. 
`arrays dynamic_programming iterative-algorithms dynamic programming iterative algorithms`
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="standardizeTagDelimiters"><span class="type-signature"></span>standardizeTagDelimiters<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    For uniformity, tags should be delimited by white-space. If a 
tag has multiple words, then an underscore or hyphen can be used to delimit
the words themselves.

Remember to add `require('./MongooseClient');` at the top of this file when
running this script as main.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line409">line 409</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="update"><span class="type-signature"></span>update<span class="signature">(savedCards, metadataQuery, attributeName)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Update the metadata with the new cards' details. This method
is usually called by CardsMongoDB.update(). An array is needed to prevent
race conditions when updating metadata from more than one card.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>savedCards</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">Array of cards</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>metadataQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">An identifier for the metadata document. This 
argument was added in order to update the global public user account. If not 
specified, it defaults to the owner of the first card in `savedCards`.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributeName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">A sortable attribute of the card that will be 
used to rank the cards in the metadata. Possible values include `urgency`, 
`numChildren`.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MetadataMongoDB.js.html">MetadataMongoDB.js</a>, <a href="MetadataMongoDB.js.html#line88">line 88</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON with `success`, `status` and 
`message` as keys. If successful, `message` has a metadata JSON object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="update"><span class="type-signature"></span>update<span class="signature">(cardJSON)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Update an existing card. Some fields of the card are treated as constants, 
e.g. `createdById` and `createdAt`
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cardJSON</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">The parts of the card that have been updated. Must
include `cardID` as an attribute, otherwise no changes will be made.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CardsMongoDB.js.html">CardsMongoDB.js</a>, <a href="CardsMongoDB.js.html#line78">line 78</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON doc with `success`, `status` and  
`message` as keys. If successful, `message` will be the updated card.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="updateMetadataWithCardDetails"><span class="type-signature"></span>updateMetadataWithCardDetails<span class="signature">(savedCard, metadataDoc, attributeName)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Helper method for updating the metadata from a given card. This 
method does not persist the modified metadata document into the database. It 
is up to the callee to save the changes once they're done manipulating the 
metadata.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>savedCard</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">The card that whose details should be added to the 
metadata.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>metadataDoc</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">A Mongoose Schema object that is used to store the
current user's metadata.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributeName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MetadataMongoDB.js.html">MetadataMongoDB.js</a>, <a href="MetadataMongoDB.js.html#line459">line 459</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolved with a reference to the modified metadata doc
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="updatePublicUserMetadata"><span class="type-signature"></span>updatePublicUserMetadata<span class="signature">(cards)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Update the metadata for a public card.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cards</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">an array of JSON flashcards</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MetadataMongoDB.js.html">MetadataMongoDB.js</a>, <a href="MetadataMongoDB.js.html#line144">line 144</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON with `success`, `status` and 
`message` as keys. If successful, `message` has a metadata JSON object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="updateUserSettings"><span class="type-signature"></span>updateUserSettings<span class="signature">(newUserSettings)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Update the settings of the given user.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>newUserSettings</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">Supported keys:</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MetadataMongoDB.js.html">MetadataMongoDB.js</a>, <a href="MetadataMongoDB.js.html#line541">line 541</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON keyed by `success`, `status` and  
`message`
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="validateAccount"><span class="type-signature"></span>validateAccount<span class="signature">(validationURI)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validationURI</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The validation URL of the associated account</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line223">line 223</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object keyed by `success`, `status` 
and `message`
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="validatePasswordResetLink"><span class="type-signature"></span>validatePasswordResetLink<span class="signature">(resetPasswordURI)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resetPasswordURI</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The password reset uri sent in the email</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LogInUtilities.js.html">LogInUtilities.js</a>, <a href="LogInUtilities.js.html#line511">line 511</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with a JSON object that has `success` and `message`
as its keys. Fails only if something goes wrong with the database.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="writeCardsToJSONFile"><span class="type-signature"></span>writeCardsToJSONFile<span class="signature">(userIDInApp)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Fetch all the user's cards and compile them into a JSON file.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userIDInApp</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">The ID of the user whose cards should be exported
to a .json file.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="MetadataMongoDB.js.html">MetadataMongoDB.js</a>, <a href="MetadataMongoDB.js.html#line405">line 405</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    resolves with two string arguments. The first one is a path 
to the written JSON file. The 2nd argument is the name of the JSON file.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addPublicUser">addPublicUser</a></li><li><a href="global.html#authenticateByToken">authenticateByToken</a></li><li><a href="global.html#authenticateUser">authenticateUser</a></li><li><a href="global.html#cardSchema">cardSchema</a></li><li><a href="global.html#close">close</a></li><li><a href="global.html#closeMongooseConnection">closeMongooseConnection</a></li><li><a href="global.html#collectSearchResults">collectSearchResults</a></li><li><a href="global.html#create">create</a></li><li><a href="global.html#delete">delete</a></li><li><a href="global.html#deleteAccount">deleteAccount</a></li><li><a href="global.html#deleteAllAccounts">deleteAllAccounts</a></li><li><a href="global.html#deleteAllMetadata">deleteAllMetadata</a></li><li><a href="global.html#deleteCardFromTrash">deleteCardFromTrash</a></li><li><a href="global.html#deleteSessionToken">deleteSessionToken</a></li><li><a href="global.html#duplicateCard">duplicateCard</a></li><li><a href="global.html#flagCard">flagCard</a></li><li><a href="global.html#getAccountDetails">getAccountDetails</a></li><li><a href="global.html#getHash">getHash</a></li><li><a href="global.html#getIdInAppAndValidationURI">getIdInAppAndValidationURI</a></li><li><a href="global.html#getRandomString">getRandomString</a></li><li><a href="global.html#getSaltAndHash">getSaltAndHash</a></li><li><a href="global.html#getTagGroupings">getTagGroupings</a></li><li><a href="global.html#insertDescriptionHTML">insertDescriptionHTML</a></li><li><a href="global.html#mongoose">mongoose</a></li><li><a href="global.html#provideSessionToken">provideSessionToken</a></li><li><a href="global.html#publicSearch">publicSearch</a></li><li><a href="global.html#read">read</a></li><li><a href="global.html#readPublicCard">readPublicCard</a></li><li><a href="global.html#registerUserAndPassword">registerUserAndPassword</a></li><li><a href="global.html#removeCardFromMetadataTrash">removeCardFromMetadataTrash</a></li><li><a href="global.html#resetPassword">resetPassword</a></li><li><a href="global.html#restoreCardFromTrash">restoreCardFromTrash</a></li><li><a href="global.html#sanitizeCard">sanitizeCard</a></li><li><a href="global.html#sanitizeQuery">sanitizeQuery</a></li><li><a href="global.html#search">search</a></li><li><a href="global.html#sendAccountValidationLink">sendAccountValidationLink</a></li><li><a href="global.html#sendAccountValidationURLToEmail">sendAccountValidationURLToEmail</a></li><li><a href="global.html#sendCardToTrash">sendCardToTrash</a></li><li><a href="global.html#sendEmail">sendEmail</a></li><li><a href="global.html#sendResetLink">sendResetLink</a></li><li><a href="global.html#splitTags">splitTags</a></li><li><a href="global.html#standardizeTagDelimiters">standardizeTagDelimiters</a></li><li><a href="global.html#update">update</a></li><li><a href="global.html#updateMetadataWithCardDetails">updateMetadataWithCardDetails</a></li><li><a href="global.html#updatePublicUserMetadata">updatePublicUserMetadata</a></li><li><a href="global.html#updateUserSettings">updateUserSettings</a></li><li><a href="global.html#validateAccount">validateAccount</a></li><li><a href="global.html#validatePasswordResetLink">validatePasswordResetLink</a></li><li><a href="global.html#writeCardsToJSONFile">writeCardsToJSONFile</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sat Dec 29 2018 20:53:02 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>