<!DOCTYPE html>
<html>
    <head>
        <title><%= APP_NAME %>: Login</title>
        <%- include('../partials/header.ejs'); %>
        <script src="/src/AppUtilities.bundle.min.js"></script>
    </head>

    <body onload="AppUtilities.processParams();">
        <%- include('../partials/app_banner.ejs'); %>

        <div role="presentation" id="app-container">

        <%- include('../partials/navbar.ejs'); %>

        <div id="main_div">

            <div id="welcome_page_content" class="form-container">

                <form class="tab_content" id="login_form" method="post">

                    <label for="username"> Username or Email Address: </label>
                    <input class="w3-input" type="text" name="username_or_email" required/>

                    <br />
                    <br />

                    <label for="password"> Password: </label>
                    <input class="w3-input" type="password" name="password"
                        id="login_password" minlength="8" required/>

                    <br />
                    <br />

                    <button class="w3-button w3-center w3-green" type="submit"
                        id="login_submit" onclick="return WelcomePage.logInUser('login_form', '/login')">Log In</button>

                    <br />
                    <br />

                    <button class="w3-button w3-center w3-blue"
                        id="display_signup_form" onclick="return WelcomePage.displayForm('signup_form')">
                        ... or Sign Up for a New Account</button>

                    <p class="link" id="forgot_password_link" onclick="window.location = '<%= RESET_PASSWORD %>';" style="text-decoration: underline">
                        Forgot password?
                    </p>

                </form>

                <form class="hidden tab_content" id="signup_form" method="post">

                    <label for="email">Email Address: </label>
                    <input class="w3-input" type="email" name="email"
                        required/>

                    <br />
                    <br />

                    <label for="username"> Choose an alphanumeric username: </label>
                    <input class="w3-input" type="text" name="username"
                        pattern="[_\-A-Za-z0-9]+" required/>

                    <br />
                    <br />

                    <label for="password"> Choose a password: </label>
                    <input class="w3-input" type="password" name="password"
                        id="signup_password" minlength="8" required/>

                    <br />
                    <br />

                    <button class="w3-button w3-center w3-green" type="submit"
                        id="signup_submit" onclick="return WelcomePage.signUpUser('signup_form', '<%= REGISTER_USER %>')">Sign Up</button>

                    <br />
                    <br />

                    <button class="w3-button w3-center w3-blue"
                        id="display_login_form" onclick="return AppUtilities.displayForm('login_form')">
                        ... or go back to LogIn</button>
                </form>

                <p>...or head over to <a href="/browse/">browse/search</a> to view existing cards.</p>

            </div>

        </div>


        <%- include('../partials/footer.ejs'); %>

        <script type="text/javascript" src="/src/WelcomePage.bundle.min.js"></script>

        </div>

    </body>

</html>
